var e=function(e){return`<p>Total price: ${e.reduce(((e,t)=>e+parseFloat(t.price)*parseInt(t.quantity)),0).toFixed(2)}</p>`};function t(e){try{localStorage.setItem("cartOrders",JSON.stringify(e)),localStorage.removeItem("cartItems"),localStorage.removeItem("cartOrder")}catch(e){return alert(e),e}}var n=function(t){const n=document.querySelectorAll("#counter button"),r=document.querySelector("#totalPrice");let a=e(t);r.innerHTML=a,n.forEach((n=>{n.addEventListener("click",(()=>{const o=n.dataset.action,c=n.closest(".itemDrugsBasket"),i=c.querySelector("#value");let l=parseInt(i.textContent);if("increment"===o)l+=1;else if("decrement"===o)if(l>0)l-=1;else{const e=confirm("Error. Click cannot be a negative number");console.log(e)}i.textContent=l.toString();const s=c.id;t.find((e=>e._id===s)).quantity=l,a=e(t),r.innerHTML=a,localStorage.setItem("cartOrder",JSON.stringify(t))}))}))};var r=function(e){e.preventDefault();const n=e.target;console.log(n);const r=n.elements.name.value,a=n.elements.email.value,o=n.elements.phone.value,c=n.elements.address.value;if(""===r||""===a||""===o||""===c)return console.log("Please fill in all the fields!");const i={name:r,email:a,phone:o,address:c},l=JSON.parse(localStorage.getItem("cartOrder"))||JSON.parse(localStorage.getItem("cartItems")),s=Date.now();let u=JSON.parse(localStorage.getItem("cartOrders"))||[];u.push({number:s,user:i,products:l}),t(u),n.reset()};const a=document.querySelector("#drugsBasket");document.querySelector(".contact-form").addEventListener("submit",r),function(){try{let e=JSON.parse(localStorage.getItem("cartItems"))||[];if(e.length>0){const t=e.map((e=>{const t=e.image&&""!==e.image.trim()?e.image:"https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png";return`<li class="itemDrugsBasket" id="${e._id}">\n                <img src="${t}" alt="${e.title}" loading="lazy" width="300"/>\n                <div class="infoDrug"\n                <h3>${e.title}</h3>\n                <p id="price">${e.price}</p>\n                    <div id="counter">\n                    <button type="button" data-action="decrement">-1</button>\n                      <span id="value">1</span>\n                    <button type="button" data-action="increment">+1</button>\n                 </div>\n                </div>\n            </li>`})).join("");a.innerHTML=t,n(e)}else a.innerHTML="<p>Basket is empty!Please add products</p>"}catch(e){return console.log(e),e}}();
//# sourceMappingURL=shopingCart.893953f7.js.map
