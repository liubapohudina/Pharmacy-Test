var t=function(t){return`<p>Total price: ${t.reduce(((t,e)=>t+parseFloat(e.price)*parseInt(e.quantity)),0).toFixed(2)}</p>`};var e=function(e){const n=document.querySelectorAll("#counter button"),i=document.querySelector("#totalPrice");let o=t(e);i.innerHTML=o,n.forEach((n=>{n.addEventListener("click",(()=>{const r=n.dataset.action,c=n.closest(".itemDrugsBasket"),a=c.querySelector("#value");let s=parseInt(a.textContent);if("increment"===r)s+=1;else if("decrement"===r)if(s>0)s-=1;else{const t=confirm("Error. Click cannot be a negative number");console.log(t)}a.textContent=s.toString();const l=c.id;e.find((t=>t._id===l)).quantity=s,o=t(e),i.innerHTML=o}))}))};const n=document.querySelector("#drugsBasket");document.querySelector("#totalPrice");!function(){try{let t=JSON.parse(localStorage.getItem("cartItems"))||[];if(t.length>0){const i=t.map((t=>{const e=t.image&&""!==t.image.trim()?t.image:"https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png";return`<li class="itemDrugsBasket" id="${t._id}">\n                <img src="${e}" alt="${t.title}" loading="lazy" width="300"/>\n                <div class="infoDrug"\n                <h3>${t.title}</h3>\n                <p id="price">${t.price}</p>\n                    <div id="counter">\n                    <button type="button" data-action="decrement">-1</button>\n                      <span id="value">1</span>\n                    <button type="button" data-action="increment">+1</button>\n                 </div>\n                </div>\n            </li>`})).join("");n.innerHTML=i,e(t)}else n.innerHTML="<p>Basket is empty!Please add products</p>"}catch(t){return console.log(t),t}}();
//# sourceMappingURL=shopingCart.6f0a0fd1.js.map
