{"mappings":"IAYAA,EAVA,SAAoBC,GAOhB,MAAO,mBANKA,EAASC,QAAO,CAACC,EAAKC,IAGvBD,EAFOE,WAAWD,EAAQE,OAChBC,SAASH,EAAQI,WAEnC,GACoBC,QAAQ,Q,MCgCnCC,EAtCA,SAAuBT,GACnB,MAAMU,EAAUC,SAASC,iBAAiB,mBACpCC,EAAiBF,SAASG,cAAc,eAC9C,IAAAC,EAAAhB,EACYC,GACZa,EAAeG,UAAYD,EAE3BL,EAAQO,SAAQC,IACZA,EAAOC,iBAAiB,SAAS,KAC7B,MAAMC,EAASF,EAAOG,QAAQD,OACxBE,EAAOJ,EAAOK,QAAQ,oBACtBC,EAAUF,EAAKR,cAAc,UACnC,IAAIW,EAAenB,SAASkB,EAAQE,aAEpC,GAAe,cAAXN,EACAK,GAAgB,OACb,GAAe,cAAXL,EACP,GAAIK,EAAe,EACfA,GAAgB,MACb,CACH,MAAME,EAAUC,QAAQ,4CACxBC,QAAQC,IAAIH,E,CAGpBH,EAAAE,YAAAD,EAC6BM,WAC7B,MAAAC,EAAAV,EAAgEW,GAEzCjC,EAASkC,MAAK/B,GAAWA,EAAQgC,MAAQH,IACjDzB,SAAWkB,EAE1BV,EAAAhB,EACQC,GACRa,EAAeG,UAAYD,CAAK,GAClC,G,EC9BV,MAAMqB,EAAezB,SAASG,cAAc,gBACrBH,SAASG,cAAc,gBAG9C,WACI,IACI,IAAId,EAAWqC,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GAChE,GAAIxC,EAASyC,OAAS,EAAG,CACrB,MAAMC,EAAsB1C,ECDvB2C,KAAIrB,IACT,MAAMsB,EAAStB,EAAMuB,OAA+B,KAAtBvB,EAAKuB,MAAMC,OAAiBxB,EAAKuB,MAAQ,mEACvE,MAAO,mCAAmCvB,EAAKa,oCAC/BS,WAAgBtB,EAAKyB,mGAE3BzB,EAAKyB,6CACKzB,EAAKjB,sUAOnB,IACP2C,KAAK,IDZJZ,EAAapB,UAAY0B,EACzBjC,EAAcT,E,MAKfoC,EAAapB,UCUb,4C,CDNL,MAAOiC,GAEL,OADApB,QAAQC,IAAImB,GACLA,C,EAGfC","sources":["src/helpers/totalPrice.js","src/helpers/counter.js","src/shopingCart.js","src/helpers/markup.js"],"sourcesContent":["\n\nfunction totalPrice(products) {\n    let total = products.reduce((acc, product) => {\n        const price = parseFloat(product.price);\n        const quantity = parseInt(product.quantity);\n        return acc + (price * quantity);\n    }, 0);\n    const fixPrice = total.toFixed(2);\n    return `<p>Total price: ${fixPrice}</p>`\n}\n\nexport default totalPrice;\n","import totalPrice from './totalPrice';\n\nfunction counterBasket(products) {\n    const buttons = document.querySelectorAll(\"#counter button\");\n    const totalPriceInfo = document.querySelector(\"#totalPrice\");\n    /*------------------перший рендер товарів------------------*/\n    let total = totalPrice(products); \n    totalPriceInfo.innerHTML = total;\n\n    buttons.forEach(button => {\n        button.addEventListener(\"click\", () => {\n            const action = button.dataset.action;\n            const item = button.closest(\".itemDrugsBasket\");\n            const counter = item.querySelector(\"#value\");\n            let counterValue = parseInt(counter.textContent);\n\n            if (action === \"increment\") {\n                counterValue += 1;\n            } else if (action === \"decrement\") {\n                if (counterValue > 0) {\n                    counterValue -= 1;\n                } else {\n                    const message = confirm(\"Error. Click cannot be a negative number\");\n                    console.log(message);\n                }\n            }\n            /*-------------змінює значення спану на сторінці------------*/\n            counter.textContent = counterValue.toString();\n            /*-------------змінює значення quantity в об'єкті products----*/\n            const itemId = item.id;\n            const updatedProduct = products.find(product => product._id === itemId);\n            updatedProduct.quantity = counterValue;\n            \n            /*------------викликаємо тотал з новим quantity------*/\n            total = totalPrice(products); \n            totalPriceInfo.innerHTML = total;\n        });\n    });\n}\n\nexport default counterBasket;\n","import { MarkupBasket, BasketEmpty } from \"./helpers/markup\";\n//import totalPrice from \"./helpers/totalPrice\";\nimport counterBasket from \"./helpers/counter\";\n\n\n\nconst productsList = document.querySelector(\"#drugsBasket\");\nconst totalPriceInfo = document.querySelector(\"#totalPrice\");\n\n\nfunction getProductsBasket() {\n    try {\n        let products = JSON.parse(localStorage.getItem('cartItems')) || [];\n        if (products.length > 0) {\n            const markup = MarkupBasket(products);\n            productsList.innerHTML = markup;\n            counterBasket(products)\n            // const totPrice = totalPrice(products);\n            // totalPriceInfo.innerHTML = totPrice;\n\n        } else {\n           productsList.innerHTML =  BasketEmpty()\n        }\n        \n\n    } catch (error) {\n        console.log(error)\n        return error;\n    }\n}\ngetProductsBasket()\n\n"," export function MarkupMain(data) {\n        return data.map(item => {\n            const imgSrc = (item.image && item.image.trim() !== '') ? item.image : 'https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png';\n            return `<li class=\"itemDrugs\" id=\"${item._id}\">\n                <img src=\"${imgSrc}\" alt=\"${item.title}\" loading=\"lazy\" />\n                <h3>${item.title}</h3>\n                <p>${item.price}</p>\n                <button class=\"addToCart\" type=\"button\">Add to Cart</button>\n            </li>`;\n        }).join('');\n}\n\nexport function MarkupBasket(data) {\n     return data.map(item => {\n            const imgSrc = (item.image && item.image.trim() !== '') ? item.image : 'https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png';\n            return `<li class=\"itemDrugsBasket\" id=\"${item._id}\">\n                <img src=\"${imgSrc}\" alt=\"${item.title}\" loading=\"lazy\" width=\"300\"/>\n                <div class=\"infoDrug\"\n                <h3>${item.title}</h3>\n                <p id=\"price\">${item.price}</p>\n                    <div id=\"counter\">\n                    <button type=\"button\" data-action=\"decrement\">-1</button>\n                      <span id=\"value\">1</span>\n                    <button type=\"button\" data-action=\"increment\">+1</button>\n                 </div>\n                </div>\n            </li>`;\n        }).join('');\n}\n\nexport function BasketEmpty() {\n    return `<p>Basket is empty!Please add products</p>`\n}\n"],"names":["$a14f80a8f848a96e$export$2e2bcd8739ae039","products","reduce","acc","product","parseFloat","price","parseInt","quantity","toFixed","$40c68ccc10053de7$export$2e2bcd8739ae039","buttons","document","querySelectorAll","totalPriceInfo","querySelector","total","innerHTML","forEach","button","addEventListener","action","dataset","item","closest","counter","counterValue","textContent","message","confirm","console","log","toString","itemId","id","find","_id","$5a87e8575bf4603c$var$productsList","JSON","parse","localStorage","getItem","length","markup","map","imgSrc","image","trim","title","join","error","$5a87e8575bf4603c$var$getProductsBasket"],"version":3,"file":"shopingCart.6f0a0fd1.js.map"}