{"mappings":"AAkCO,SAASA,EAAoBC,GAChC,IAAIC,EAAS,GAqBb,OAnBAD,EAAKE,SAAQC,IACTF,GAAU,2BACVA,GAAU,qBAAqBE,EAAMC,cACrCH,GAAU,aAAaE,EAAME,KAAKC,YAClCL,GAAU,mCACVE,EAAMI,SAASL,SAAQM,IACnB,MAAMC,EAASD,EAAME,OAA+B,KAAtBF,EAAKE,MAAMC,OAAiBH,EAAKE,MAAQ,mEACvET,GAAU,yCAAyCO,EAAKI,oCACxCH,WAAgBD,EAAKK,iDAC3BL,EAAKK,kCACNL,EAAKM,2CACKN,EAAKO,2CACRP,EAAKQ,8BACf,IAEVf,GAAU,QACVA,GAAU,QAAQ,IAGfA,C,CCrDX,MAAMgB,EAAYC,SAASC,cAAc,cACnCC,EAAOF,SAASC,cAAc,iBAEpC,IAAIE,EAAgB,GAiCpBD,EAAKE,iBAAiB,SApBtB,SAAAC,GAEE,MAAMC,EAAOD,EAAME,cACbnB,EAAOkB,EAAKE,SAASpB,KAAKqB,MAAMC,cAChCC,EAAQL,EAAKE,SAASG,MAAMF,MAAMC,cAExC,IACE,MAKM3B,EAASF,EALMsB,EAAcS,QAAO3B,GACxCA,EAAME,KAAKC,KAAKsB,cAAcG,SAASzB,IACvCH,EAAME,KAAKwB,MAAMD,cAAcG,SAASF,MAI1CZ,EAAUe,UAAY/B,C,CACtB,MAAOgC,GAEP,OADAC,MAAMD,GACCA,C,KA3BmB,WAE5B,IACEZ,ECCKc,KAAKC,MAAMC,aAAaC,QAAQ,eDArC,MAAMrC,EAASF,EAAoBsB,GACnCJ,EAAUe,UAAY/B,C,CACtB,MAAOgC,GAEP,OADAC,MAAMD,GACCA,C,EAwBXM","sources":["src/helpers/markup.js","src/history.js","src/helpers/localStorage.js"],"sourcesContent":[" export function MarkupMain(data) {\n        return data.map(item => {\n            const imgSrc = (item.image && item.image.trim() !== '') ? item.image : 'https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png';\n            return `<li class=\"itemDrugs\" id=\"${item._id}\">\n                <img src=\"${imgSrc}\" alt=\"${item.title}\" loading=\"lazy\" />\n                <h3>${item.title}</h3>\n                <p>${item.price}</p>\n                <button class=\"addToCart\" type=\"button\">Add to Cart</button>\n            </li>`;\n        }).join('');\n}\n\nexport function MarkupBasket(data) {\n     return data.map(item => {\n            const imgSrc = (item.image && item.image.trim() !== '') ? item.image : 'https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png';\n            return `<li class=\"itemDrugsBasket\" id=\"${item._id}\">\n                <img src=\"${imgSrc}\" alt=\"${item.title}\" loading=\"lazy\" width=\"300\"/>\n                <button class=\"btnDelete\" type=\"button\">X</button>\n                <div class=\"infoDrug\"\n                <h3>${item.title}</h3>\n                <p id=\"price\">${item.price}</p>\n                    <div id=\"counter\">\n                    <button type=\"button\" data-action=\"decrement\">-1</button>\n                      <span id=\"value\">1</span>\n                    <button type=\"button\" data-action=\"increment\">+1</button>\n                 </div>\n                </div>\n            </li>`;\n        }).join('');\n}\n\nexport function BasketEmpty() {\n    return `<p>Basket is empty!Please add products</p>`\n}\nexport function MarkupHistoryOrders(data) {\n    let markup = '';\n\n    data.forEach(order => {\n        markup += `<div class=\"orderBlock\">`;\n        markup += `<h2>Order Number: ${order.number}</h2>`;\n        markup += `<h3>User: ${order.user.name}</h3>`\n        markup += `<ul class=\"orderList drugsList\">`;\n        order.products.forEach(item => {\n            const imgSrc = (item.image && item.image.trim() !== '') ? item.image : 'https://cdn1.iconfinder.com/data/icons/pikku-ui/16/image-512.png';\n            markup += `<li class=\"itemDrugs historyItem\" id=\"${item._id}\">\n                <img src=\"${imgSrc}\" alt=\"${item.title}\" loading=\"lazy\" />\n                <h3>${item.title}</h3>\n                <p>${item.price}</p>\n                <p>Quantity: ${item.quantity}</p>\n                <p>Total: ${item.total}</p>\n            </li>`;\n        });\n        markup += `</ul>`;\n        markup += `</div>`;\n    });\n\n    return markup;\n}\n\n\n\n","import { MarkupHistoryOrders } from \"./helpers/markup\";\nimport { getLocalStorage } from \"./helpers/localStorage\";\n\nconst orderList = document.querySelector('.orderList');\nconst form = document.querySelector('.history-form');\n\nlet initialOrders = []; // Зберігатиме початкові замовлення\n\n/*------------------функція для першого рендеру------------*/\nfunction getHistory() {\n  try {\n    initialOrders = getLocalStorage();\n    const markup = MarkupHistoryOrders(initialOrders);\n    orderList.innerHTML = markup;\n  } catch (error) {\n    alert(error);\n    return error;\n  }\n}\n/*--------------функція для рендеру з оновленням згідно пошуку по юзеру--------*/\nfunction handleInput(event) {\n  const form = event.currentTarget;\n  const name = form.elements.name.value.toLowerCase();\n  const phone = form.elements.phone.value.toLowerCase();\n\n  try {\n    const searchResult = initialOrders.filter(order => \n      order.user.name.toLowerCase().includes(name) && \n      order.user.phone.toLowerCase().includes(phone)\n    );\n\n    const markup = MarkupHistoryOrders(searchResult);\n    orderList.innerHTML = markup;\n  } catch (error) {\n    alert(error);\n    return error;\n  }\n}\n\nform.addEventListener('input', handleInput);\ngetHistory();\n\n/*-------------------працююча функція але без першого рендеру------*/\n\n// function handleInput(event) {\n//   const form = event.currentTarget;\n//     const name = form.elements.name.value.toLowerCase();\n//     console.log(name)\n//   const phone = form.elements.phone.value.toLowerCase();\n//       try {\n//           const dataOrders = getLocalStorage();\n//           const searchResult = dataOrders.filter(order => \n//                order.user.name.toLowerCase().includes(name) \n//             && order.user.phone.toLowerCase().includes(phone)\n//     );\n//     console.log(searchResult);\n//           const markup = MarkupHistoryOrders(searchResult);\n//           orderList.innerHTML = markup;\n        \n//     } catch (error) {\n//         alert(error)\n//         return error;\n//     }\n \n  \n// }\n\n","export function setLocalStorageOrder(products) {\n    try {\n        localStorage.setItem('cartOrders', JSON.stringify(products));\n        localStorage.removeItem('cartItems');\n        localStorage.removeItem('cartOrder');\n\n    } catch (error) {\n        alert(error)\n        return error;\n    }\n}\nexport function getLocalStorage() {\n  return JSON.parse(localStorage.getItem('cartOrders'))\n}\n\n\n"],"names":["$36e01e9ef83353eb$export$f5c51bbc50c824fa","data","markup","forEach","order","number","user","name","products","item","imgSrc","image","trim","_id","title","price","quantity","total","$cb1bcb448af9a36c$var$orderList","document","querySelector","$cb1bcb448af9a36c$var$form","$cb1bcb448af9a36c$var$initialOrders","addEventListener","event","form1","currentTarget","elements","value","toLowerCase","phone","filter","includes","innerHTML","error","alert","JSON","parse","localStorage","getItem","$cb1bcb448af9a36c$var$getHistory"],"version":3,"file":"histoty.1549cc59.js.map"}